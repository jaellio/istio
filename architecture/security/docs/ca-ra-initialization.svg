<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-8 -8 448.9296875 1166.890625" style="max-width: 100%;" xmlns="http://www.w3.org/2000/svg" width="100%" id="graph-div" height="100%" xmlns:xlink="http://www.w3.org/1999/xlink"><style>@import url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css");'</style><style>#graph-div{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;fill:#333;}#graph-div .error-icon{fill:hsl(60, 90%, 100%);}#graph-div .error-text{fill:rgb(0, 0, 0);stroke:rgb(0, 0, 0);}#graph-div .edge-thickness-normal{stroke-width:2px;}#graph-div .edge-thickness-thick{stroke-width:3.5px;}#graph-div .edge-pattern-solid{stroke-dasharray:0;}#graph-div .edge-pattern-dashed{stroke-dasharray:3;}#graph-div .edge-pattern-dotted{stroke-dasharray:2;}#graph-div .marker{fill:#0b0b0b;stroke:#0b0b0b;}#graph-div .marker.cross{stroke:#0b0b0b;}#graph-div svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;}#graph-div .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#graph-div .cluster-label text{fill:rgb(0, 0, 0);}#graph-div .cluster-label span,#graph-div p{color:rgb(0, 0, 0);}#graph-div .label text,#graph-div span,#graph-div p{fill:#333;color:#333;}#graph-div .node rect,#graph-div .node circle,#graph-div .node ellipse,#graph-div .node polygon,#graph-div .node path{fill:#ECECFE;stroke:#BCBCFB;stroke-width:1px;}#graph-div .flowchart-label text{text-anchor:middle;}#graph-div .node .label{text-align:center;}#graph-div .node.clickable{cursor:pointer;}#graph-div .arrowheadPath{fill:#0b0b0b;}#graph-div .edgePath .path{stroke:#0b0b0b;stroke-width:2.0px;}#graph-div .flowchart-link{stroke:#0b0b0b;fill:none;}#graph-div .edgeLabel{background-color:#E9E9F1;text-align:center;}#graph-div .edgeLabel rect{opacity:0.5;background-color:#E9E9F1;fill:#E9E9F1;}#graph-div .labelBkg{background-color:rgba(233, 233, 241, 0.5);}#graph-div .cluster rect{fill:hsl(60, 90%, 100%);stroke:hsl(60, 50%, 90%);stroke-width:1px;}#graph-div .cluster text{fill:rgb(0, 0, 0);}#graph-div .cluster span,#graph-div p{color:rgb(0, 0, 0);}#graph-div div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(60, 90%, 100%);border:1px solid hsl(60, 50%, 90%);border-radius:2px;pointer-events:none;z-index:100;}#graph-div .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#graph-div :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><style media="screen" class="darkreader darkreader--sync"></style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="10" viewBox="0 0 10 10" class="marker flowchart" id="flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="0" viewBox="0 0 10 10" class="marker flowchart" id="flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path data-darkreader-inline-fill="" marker-end="url(#flowchart-pointEnd)" style="fill: none; --darkreader-inline-fill: none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-A LE-B" id="L-A-B-0" d="M156.50390625,33L156.50390625,37.166666666666664C156.50390625,41.333333333333336,156.50390625,49.666666666666664,156.58723958333334,58.083333333333336C156.67057291666666,66.5,156.83723958333334,75,156.92057291666666,79.25L157.00390625,83.5"></path><path data-darkreader-inline-fill="" marker-end="url(#flowchart-pointEnd)" style="fill: none; --darkreader-inline-fill: none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-B LE-C" id="L-B-C-0" d="M121.81418885651605,201.71653260651604L111.95583446376338,213.16481883876335C102.09748007101071,224.61310507101066,82.38077128550536,247.50967753550535,72.52241689275267,274.377234601086C62.6640625,301.2447916666667,62.6640625,332.0833333333333,62.6640625,347.5026041666667L62.6640625,362.921875"></path><path data-darkreader-inline-fill="" marker-end="url(#flowchart-pointEnd)" style="fill: none; --darkreader-inline-fill: none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-B LE-D" id="L-B-D-0" d="M192.19362364348396,201.71653260651604L201.88531136957,213.16481883876335C211.576999095656,224.61310507101066,230.960374547828,247.50967753550535,240.73539560724734,264.7079637677527C250.51041666666666,281.90625,250.67708333333334,293.40625,250.76041666666666,299.15625L250.84375,304.90625"></path><path data-darkreader-inline-fill="" marker-end="url(#flowchart-pointEnd)" style="fill: none; --darkreader-inline-fill: none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-D LE-E" id="L-D-E-0" d="M220.2485803893486,424.3423303893486L212.7501190744572,435.0248586577905C205.25165775956575,445.7073869262324,190.25473512978286,467.07244346311626,182.75627381489144,487.6716383982248C175.2578125,508.2708333333333,175.2578125,528.1041666666666,175.2578125,546.4375C175.2578125,564.7708333333334,175.2578125,581.6041666666666,182.61820955651504,599.5080925268182C189.97860661303014,617.4120183869699,204.69940072606028,636.3865367739397,212.05979778257532,645.8737959674246L219.42019483909039,655.3610551609096"></path><path data-darkreader-inline-fill="" marker-end="url(#flowchart-pointEnd)" style="fill: none; --darkreader-inline-fill: none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-D LE-F" id="L-D-F-0" d="M281.4389196106514,424.3423303893486L288.7707142588761,435.0248586577905C296.1025089071009,445.7073869262324,310.7660982035505,467.07244346311626,318.0978928517752,483.4216383982248C325.4296875,499.7708333333333,325.4296875,511.1041666666667,325.4296875,516.7708333333334L325.4296875,522.4375"></path><path data-darkreader-inline-fill="" marker-end="url(#flowchart-pointEnd)" style="fill: none; --darkreader-inline-fill: none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-F LE-E" id="L-F-E-0" d="M325.4296875,573.4375L325.4296875,577.6041666666666C325.4296875,581.7708333333334,325.4296875,590.1041666666666,318.2359571101516,603.7580925268182C311.04222672030323,617.4120183869699,296.6547659406064,636.3865367739397,289.461035550758,645.8737959674246L282.26730516090964,655.3610551609096"></path><path data-darkreader-inline-fill="" marker-end="url(#flowchart-pointEnd)" style="fill: none; --darkreader-inline-fill: none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-E LE-G" id="L-E-G-0" d="M229.2384619848352,746.3947119848352L225.18439540402935,755.5789266540293C221.1303288232235,764.7631413232235,213.02219566161173,783.1315706616118,208.96812908080585,800.7324519974726C204.9140625,818.3333333333334,204.9140625,835.1666666666666,204.9140625,850.5C204.9140625,865.8333333333334,204.9140625,879.6666666666666,208.91487204251322,894.4874717074867C212.9156815850264,909.308276748307,220.91730067005278,925.116553496614,224.918110212566,933.0206918707673L228.9189197550792,940.9248302449208"></path><path data-darkreader-inline-fill="" marker-end="url(#flowchart-pointEnd)" style="fill: none; --darkreader-inline-fill: none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-E LE-H" id="L-E-H-0" d="M272.4490380151648,746.3947119848352L276.33643792930394,755.5789266540293C280.22383784344316,764.7631413232235,287.9986376717216,783.1315706616118,291.8860375858608,797.9824519974726C295.7734375,812.8333333333334,295.7734375,824.1666666666666,295.7734375,829.8333333333334L295.7734375,835.5"></path><path data-darkreader-inline-fill="" marker-end="url(#flowchart-pointEnd)" style="fill: none; --darkreader-inline-fill: none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-H LE-G" id="L-H-G-0" d="M295.7734375,868.5L295.7734375,872.6666666666666C295.7734375,876.8333333333334,295.7734375,885.1666666666666,291.9392946241535,897.2374717074867C288.1051517483069,909.308276748307,280.4368659966139,925.116553496614,276.6027231207674,933.0206918707673L272.7685802449208,940.9248302449208"></path><path data-darkreader-inline-fill="" marker-end="url(#flowchart-pointEnd)" style="fill: none; --darkreader-inline-fill: none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-G LE-I" id="L-G-I-0" d="M222.8714731520125,1022.4183481520125L215.12922241834374,1032.6637276266772C207.38697168467502,1042.9091071013418,191.9024702173375,1063.3998660506709,184.16021948366878,1079.311912192002C176.41796875,1095.2239583333333,176.41796875,1106.5572916666667,176.41796875,1112.2239583333333L176.41796875,1117.890625"></path><path data-darkreader-inline-fill="" marker-end="url(#flowchart-pointEnd)" style="fill: none; --darkreader-inline-fill: none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-G LE-J" id="L-G-J-0" d="M278.8160268479875,1022.4183481520125L286.39161091498954,1032.6637276266772C293.96719498199167,1042.9091071013418,309.1183631159958,1063.3998660506709,316.6939471829979,1079.311912192002C324.26953125,1095.2239583333333,324.26953125,1106.5572916666667,324.26953125,1112.2239583333333L324.26953125,1117.890625"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(62.6640625, 270.40625)" class="edgeLabel"><g transform="translate(-7.671875, -9)" class="label"><foreignObject height="18" width="15.34375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">No</span></div></foreignObject></g></g><g transform="translate(250.34375, 270.40625)" class="edgeLabel"><g transform="translate(-9.7890625, -9)" class="label"><foreignObject height="18" width="19.578125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Yes</span></div></foreignObject></g></g><g transform="translate(175.2578125, 547.9375)" class="edgeLabel"><g transform="translate(-7.671875, -9)" class="label"><foreignObject height="18" width="15.34375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">No</span></div></foreignObject></g></g><g transform="translate(325.4296875, 488.4375)" class="edgeLabel"><g transform="translate(-9.7890625, -9)" class="label"><foreignObject height="18" width="19.578125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Yes</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(204.9140625, 852)" class="edgeLabel"><g transform="translate(-7.671875, -9)" class="label"><foreignObject height="18" width="15.34375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">No</span></div></foreignObject></g></g><g transform="translate(295.7734375, 801.5)" class="edgeLabel"><g transform="translate(-9.7890625, -9)" class="label"><foreignObject height="18" width="19.578125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Yes</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(176.41796875, 1083.890625)" class="edgeLabel"><g transform="translate(-7.671875, -9)" class="label"><foreignObject height="18" width="15.34375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">No</span></div></foreignObject></g></g><g transform="translate(324.26953125, 1083.890625)" class="edgeLabel"><g transform="translate(-9.7890625, -9)" class="label"><foreignObject height="18" width="19.578125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Yes</span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(156.50390625, 16.5)" id="flowchart-A-22" class="node default default flowchart-label"><rect height="33" width="126.390625" y="-16.5" x="-63.1953125" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-55.6953125, -9)" style="" class="label"><rect></rect><foreignObject height="18" width="111.390625" style="width: 111.391px; height: 18px;"><div style="display: table-cell; white-space: nowrap; max-width: 200px;" xmlns="http://www.w3.org/1999/xhtml">
    <span class="nodeLabel markdown-node-label"><p><em>pilot</em> server initialized</p></span></div></foreignObject></g></g><g transform="translate(156.50390625, 159.703125)" id="flowchart-B-23" class="node default default flowchart-label"><polygon style="" transform="translate(-76.703125,76.703125)" class="label-container" points="76.703125,0 153.40625,-76.703125 76.703125,-153.40625 0,-76.703125"></polygon><g transform="translate(-52.703125, -9)" style="" class="label"><rect></rect><foreignObject height="18" width="105.40625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">CA server enabled?</span></div></foreignObject></g></g><g transform="translate(62.6640625, 379.421875)" id="flowchart-C-25" class="node default default flowchart-label"><rect height="33" width="125.328125" y="-16.5" x="-62.6640625" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-55.1640625, -9)" style="" class="label"><rect></rect><foreignObject height="18" width="110.328125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Don't start CA server</span></div></foreignObject></g></g><g transform="translate(250.34375, 379.421875)" id="flowchart-D-27" class="node default default flowchart-label"><polygon style="" transform="translate(-75.015625,75.015625)" class="label-container" points="75.015625,0 150.03125,-75.015625 75.015625,-150.03125 0,-75.015625"></polygon><g transform="translate(-51.015625, -9)" style="" class="label"><rect></rect><foreignObject height="18" width="102.03125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">User remote certs?</span></div></foreignObject></g></g><g transform="translate(250.34375, 695.46875)" id="flowchart-E-29" class="node default default flowchart-label"><polygon style="" transform="translate(-72.03125,72.03125)" class="label-container" points="72.03125,0 144.0625,-72.03125 72.03125,-144.0625 0,-72.03125"></polygon><g transform="translate(-48.03125, -9)" style="" class="label"><rect></rect><foreignObject height="18" width="96.0625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">External CA type?</span></div></foreignObject></g></g><g transform="translate(325.4296875, 547.9375)" id="flowchart-F-31" class="node default default flowchart-label"><rect height="51" width="215" y="-25.5" x="-107.5" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-100, -18)" style="" class="label"><rect></rect><foreignObject height="36" width="200" style="width: 200px; height: 36px;"><div style="display: table; white-space: break-spaces; max-width: 200px; width: 200px;" xmlns="http://www.w3.org/1999/xhtml">
    <span class="nodeLabel markdown-node-label"><p>Load <em>cacerts</em> secret from remote cluster and mount to file system</p></span></div></foreignObject></g></g><g transform="translate(250.34375, 984.1953125)" id="flowchart-G-35" class="node default default flowchart-label"><polygon style="" transform="translate(-65.6953125,65.6953125)" class="label-container" points="65.6953125,0 131.390625,-65.6953125 65.6953125,-131.390625 0,-65.6953125"></polygon><g transform="translate(-41.6953125, -9)" style="" class="label"><rect></rect><foreignObject height="18" width="83.390625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Is CA disabled?</span></div></foreignObject></g></g><g transform="translate(295.7734375, 852)" id="flowchart-H-37" class="node default default flowchart-label"><rect height="33" width="96.375" y="-16.5" x="-48.1875" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-40.6875, -9)" style="" class="label"><rect></rect><foreignObject height="18" width="81.375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Create Istio RA</span></div></foreignObject></g></g><g transform="translate(176.41796875, 1134.390625)" id="flowchart-I-41" class="node default default flowchart-label"><rect height="33" width="71.03125" y="-16.5" x="-35.515625" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-28.015625, -9)" style="" class="label"><rect></rect><foreignObject height="18" width="56.03125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Create CA</span></div></foreignObject></g></g><g transform="translate(324.26953125, 1134.390625)" id="flowchart-J-43" class="node default default flowchart-label"><rect height="33" width="124.671875" y="-16.5" x="-62.3359375" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-54.8359375, -9)" style="" class="label"><rect></rect><foreignObject height="18" width="109.671875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Don't create Istio CA</span></div></foreignObject></g></g></g></g></g></svg>